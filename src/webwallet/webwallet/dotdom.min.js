/* based on: .dom - A Tiny VDom Template Engine | https://github.com/brg2/dot-dom/tree/brettg2/cache | Apache License Version 2.0 */
((e,t,r,n,a,i,l,o=0)=>{String.prototype[n]=1,a=((e,t={},...r)=>({[n]:1,E:e,P:t[n]?{C:[].concat(t,...r)}:(t.C=[].concat(...r))&&t})),e.R=function(){let e=1,n=0,a=(i,l,d={},E=l.childNodes,c=0)=>{for((i.map?i:[i]).map(function i(m,s,u,P,p,w=c,f=E[c++],x,y=m,g=((t={})=>{e||(n&&clearTimeout(n),n=setTimeout(()=>C(t)))}),C=((t={})=>{P[0].E&&E[w]!==P[0]||(e=1,c=w,i(m,s,0,P),e=0)})){if(null===m)return;for(P||(m.E&&m.E.call&&!m.E.name&&!m.E._id&&(m.E._id=++o),p=s+(m.E?"."+(m.E.trim?m.E:m.E.call?m.E.name||m.E._id||"*":""):""),P=d[p]=d[p]||[0,new Proxy({},{deleteProperty(e,t){g(),delete e[t]},set(e,t,r){g(),e[t]=r},get:(e,t)=>(g(),e[t])}),{}]);y.E&&y.E.call;)y.E.data=P[1],y.E.draw=g,(y=y.E(y.P,P[1]))||(y=H("div"));if(y.constructor===Array)return c--&&y.map(i);x=P[0]&&P[0].E==y.E?P[0]:y.trim?t.createTextNode(y):t.createElementNS("http://www.w3.org/"+(["svg","circle","path"].indexOf(y.E)<0?"1999/xhtml":"2000/svg"),y.E),(x=f?f.E==y.E&&f===x||f.data==y?f:l.replaceChild(x,f)&&x:l.appendChild(x)).E=y.E,P[0]=x;let h,v=[];y.P&&y.P.C&&(v=y.P.C,delete y.P.C),h=r.keys(y.P||{}),x._lk&&x._lk.map(e=>{h.indexOf(e)<0&&(/^on|^inner|value/m.test(e)?x[e]=null:x.removeAttribute(e))}),y.trim?x.data!==y&&(x.data=y):h.map(e=>["style","dataset"].indexOf(e)>=0?r.assign(x[e],y.P[e]):(x._lk=h)&&(/^on|^inner|value/m.test(e)?x[e]!==y.P[e]&&(x[e]=y.P[e]):x.getAttribute(e)!==y.P[e]&&x.setAttribute(e,y.P[e])))&&h.indexOf("innerHTML")<0&&a(v,x,P[2])});E[c];)l.removeChild(E[c]);n&&clearTimeout(n),n=setTimeout(()=>e=0)};return a.apply(a,arguments)},l=(e=>new Proxy(e,{get:(e,t,r)=>l((...n)=>((r=e(...n)).P.class=([r.P.class]+" "+t).trim(),r))})),e.H=new Proxy(a,{get:(t,r)=>t[r]||l(a.bind(e,r))})})(window,document,Object,Symbol())
